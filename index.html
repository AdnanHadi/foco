<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title></title>
	<link rel="stylesheet" href="css/app.css">
	<style>

	</style>
</head>

<body class="arrow">
	<div class="container">
		<div class="control-section">
			<label class="switch">
				<div id="mute-button" class="on"></div>
			</label>
			<div class="close" id="close-button">Close</div>

		</div>

		<div class="player-section">

			<ul class="player">
				<li class="cafe">
					<h2>Cafe</h2>
					<div class="clear"></div>
					<audio id="cafe" loop>
						<source src="resources/cafe.mp3" type="audio/mpeg">
					</audio>
					<div>
						<input id="cafeToggle" type="checkbox" value="cafe">
						<label for="cafeToggle">
							<span>Toggle Audio</span>
						</label>
						<input max="100" min="0" step="1" type="range" value="100">
						<div class="clear"></div>
					</div>
				</li>
				<li class="rain">
					<h2>Rain</h2>
					<div class="clear"></div>
					<audio id="rain" loop>
						<source src="resources/rain.mp3" type="audio/mpeg">
					</audio>
					<div>
						<input id="rainToggle" type="checkbox" value="rain">
						<label for="rainToggle">
							<span>Toggle Audio</span>
						</label>
						<input max="100" min="0" step="1" type="range" value="100">
					</div>
				</li>
				<li class="fire">
					<h2>Fire</h2>
					<div class="clear"></div>
					<audio id="Fire" loop>
						<source src="resources/fire.mp3" type="audio/mpeg">
					</audio>
					<div>
						<input id="FireToggle" type="checkbox" value="Fire">
						<label for="FireToggle">
							<span>Toggle Audio</span>
						</label>
						<input max="100" min="0" step="1" type="range" value="100">
					</div>
				</li>
				<li class="drops">
					<h2>Drops</h2>
					<div class="clear"></div>
					<audio id="drops" loop>
						<source src="resources/raindrops.mp3" type="audio/mpeg">
					</audio>
					<div>
						<input id="dropsToggle" type="checkbox" value="drops">
						<label for="dropsToggle">
							<span>Toggle Audio</span>
						</label>
						<input max="100" min="0" step="1" type="range" value="100">
					</div>
				</li>
				<li class="night">
					<h2>Night</h2>
					<div class="clear"></div>
					<audio id="night" loop>
						<source src="resources/night.mp3" type="audio/mpeg">
					</audio>
					<div>
						<input id="nightToggle" type="checkbox" value="night">
						<label for="nightToggle">
							<span>Toggle Audio</span>
						</label>
						<input max="100" min="0" step="1" type="range" value="100">
					</div>
				</li>
			</ul>
		</div>
	</div>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript">
		// Quit app on clicking close button
		const { remote } = require('electron');
		const prefWindow = remote.getCurrentWindow();

		prefWindow.webContents.setAudioMuted(false);

		document.getElementById('close-button').addEventListener('click', () => {
			prefWindow.close();
		});

		document.getElementById('mute-button').addEventListener('click', function (e) {
			let isAudio = this.className;

			if (isAudio === 'off') {
				this.className = "on";
				prefWindow.webContents.setAudioMuted(false);
				console.log("yo")
			} else {
				this.className = "off";
				prefWindow.webContents.setAudioMuted(true);
				console.log("no")
			}
			console.log(prefWindow.webContents.isAudioMuted())
		});

		function toggleAudio(audio) {
			if (audio) {
				prefWindow.webContents.setAudioMuted(false)
			} else {
				prefWindow.webContents.setAudioMuted(true)
			}
		}
	</script>
</body>

</html>